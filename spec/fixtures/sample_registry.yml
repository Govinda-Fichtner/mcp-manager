# Sample registry for testing
# Using new schema (v2.0)

servers:
  test-server:
    name: "Test MCP Server"
    server_type: "api_based"
    description: "A test server for unit tests"
    category: "testing"

    source:
      type: "registry"
      image: "test-image:latest"  # New schema: full image reference

    environment_variables:
      - "TEST_API_KEY"

    docker:
      network_mode: "host"

    startup_timeout: 10

  test-server-with-cmd:
    name: "Test MCP Server with CMD Override"
    server_type: "standalone"
    description: "Test server with docker.cmd override for STDIO mode"
    category: "testing"

    source:
      type: "repository"
      repository: "https://github.com/test/test-server.git"
      image: "test-server-cmd:latest"
      build_context: "."

    docker:
      network_mode: "host"
      cmd:
        - "node"
        - "dist/index.js"
        - "--transport"
        - "stdio"

    startup_timeout: 10
